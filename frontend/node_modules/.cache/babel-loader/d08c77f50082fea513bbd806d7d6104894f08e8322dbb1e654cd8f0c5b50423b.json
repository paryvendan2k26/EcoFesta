{"ast":null,"code":"var _jsxFileName = \"/media/adminn/New Volume/Global_goals/ecoevents/frontend/src/components/LocationPicker.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapPin, Navigation, AlertCircle } from 'lucide-react';\nimport { getLocation } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationPicker = ({\n  onLocationSelect,\n  initialLocation = null,\n  disabled = false,\n  showMap = false\n}) => {\n  _s();\n  const [location, setLocation] = useState(initialLocation);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleGetLocation = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const coords = await getLocation();\n      setLocation(coords);\n      onLocationSelect(coords);\n      toast.success('Location captured successfully!');\n    } catch (error) {\n      console.error('Location error:', error);\n      setError('Unable to get your location. Please enable location services or enter manually.');\n      toast.error('Failed to get location');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleManualInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name === 'latitude' || name === 'longitude') {\n      const numValue = parseFloat(value);\n      if (!isNaN(numValue)) {\n        const newLocation = {\n          ...location,\n          [name]: numValue\n        };\n        setLocation(newLocation);\n        onLocationSelect(newLocation);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleGetLocation,\n        disabled: loading || disabled,\n        className: \"btn-outline flex items-center space-x-2 text-sm\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Navigation, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: location ? 'Update Location' : 'Get My Location'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"w-5 h-5 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-red-700\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), location && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-green-50 border border-green-200 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"w-5 h-5 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-green-800\",\n          children: \"Location Captured\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-green-700\",\n        children: [\"Latitude: \", location.latitude.toFixed(6), \", Longitude: \", location.longitude.toFixed(6)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Latitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"any\",\n          name: \"latitude\",\n          value: (location === null || location === void 0 ? void 0 : location.latitude) || '',\n          onChange: handleManualInput,\n          disabled: disabled,\n          className: \"input-field\",\n          placeholder: \"Enter latitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Longitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"any\",\n          name: \"longitude\",\n          value: (location === null || location === void 0 ? void 0 : location.longitude) || '',\n          onChange: handleManualInput,\n          disabled: disabled,\n          className: \"input-field\",\n          placeholder: \"Enter longitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500\",\n      children: \"We need your location to show nearby vendors, products, and NGOs. Your location is only used for proximity-based searches and is not shared with other users.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(LocationPicker, \"V6Dy98vXHeBBPDyD+cR2LkhATg4=\");\n_c = LocationPicker;\nexport default LocationPicker;\nvar _c;\n$RefreshReg$(_c, \"LocationPicker\");","map":{"version":3,"names":["React","useState","useEffect","MapPin","Navigation","AlertCircle","getLocation","toast","jsxDEV","_jsxDEV","LocationPicker","onLocationSelect","initialLocation","disabled","showMap","_s","location","setLocation","loading","setLoading","error","setError","handleGetLocation","coords","success","console","handleManualInput","e","name","value","target","numValue","parseFloat","isNaN","newLocation","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","latitude","toFixed","longitude","step","onChange","placeholder","_c","$RefreshReg$"],"sources":["/media/adminn/New Volume/Global_goals/ecoevents/frontend/src/components/LocationPicker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapPin, Navigation, AlertCircle } from 'lucide-react';\nimport { getLocation } from '../services/api';\nimport toast from 'react-hot-toast';\n\nconst LocationPicker = ({ \n  onLocationSelect, \n  initialLocation = null, \n  disabled = false,\n  showMap = false \n}) => {\n  const [location, setLocation] = useState(initialLocation);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleGetLocation = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const coords = await getLocation();\n      setLocation(coords);\n      onLocationSelect(coords);\n      toast.success('Location captured successfully!');\n    } catch (error) {\n      console.error('Location error:', error);\n      setError('Unable to get your location. Please enable location services or enter manually.');\n      toast.error('Failed to get location');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleManualInput = (e) => {\n    const { name, value } = e.target;\n    if (name === 'latitude' || name === 'longitude') {\n      const numValue = parseFloat(value);\n      if (!isNaN(numValue)) {\n        const newLocation = {\n          ...location,\n          [name]: numValue\n        };\n        setLocation(newLocation);\n        onLocationSelect(newLocation);\n      }\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <label className=\"block text-sm font-medium text-gray-700\">\n          Location\n        </label>\n        <button\n          type=\"button\"\n          onClick={handleGetLocation}\n          disabled={loading || disabled}\n          className=\"btn-outline flex items-center space-x-2 text-sm\"\n        >\n          {loading ? (\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600\"></div>\n          ) : (\n            <Navigation className=\"w-4 h-4\" />\n          )}\n          <span>{location ? 'Update Location' : 'Get My Location'}</span>\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-red-500\" />\n          <p className=\"text-sm text-red-700\">{error}</p>\n        </div>\n      )}\n\n      {location && (\n        <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <MapPin className=\"w-5 h-5 text-green-600\" />\n            <span className=\"text-sm font-medium text-green-800\">Location Captured</span>\n          </div>\n          <p className=\"text-sm text-green-700\">\n            Latitude: {location.latitude.toFixed(6)}, Longitude: {location.longitude.toFixed(6)}\n          </p>\n        </div>\n      )}\n\n      {/* Manual Input Fields */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Latitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            name=\"latitude\"\n            value={location?.latitude || ''}\n            onChange={handleManualInput}\n            disabled={disabled}\n            className=\"input-field\"\n            placeholder=\"Enter latitude\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Longitude\n          </label>\n          <input\n            type=\"number\"\n            step=\"any\"\n            name=\"longitude\"\n            value={location?.longitude || ''}\n            onChange={handleManualInput}\n            disabled={disabled}\n            className=\"input-field\"\n            placeholder=\"Enter longitude\"\n          />\n        </div>\n      </div>\n\n      <p className=\"text-xs text-gray-500\">\n        We need your location to show nearby vendors, products, and NGOs. \n        Your location is only used for proximity-based searches and is not shared with other users.\n      </p>\n    </div>\n  );\n};\n\nexport default LocationPicker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}